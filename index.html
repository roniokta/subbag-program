<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Bank Data Sub.Bag Program</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Animate.css CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <style>
    .delay-1 { animation-delay: 0.2s; }
    .delay-2 { animation-delay: 0.4s; }
    .delay-3 { animation-delay: 0.6s; }
    .delay-4 { animation-delay: 0.8s; }
    .delay-5 { animation-delay: 1s; }
    .delay-6 { animation-delay: 1.2s; }
    .delay-7 { animation-delay: 1.4s; }
    .delay-8 { animation-delay: 1.6s; }
    .delay-9 { animation-delay: 1.8s; }

    /* Shimmer effect */
    .shimmer {
      position: relative;
      overflow: hidden;
      background: #e0e0e0;
      border-radius: 0.5rem;
    }
    .shimmer::after {
      content: "";
      position: absolute;
      top: 0;
      left: -150%;
      width: 150%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
      animation: shimmer 1.5s infinite;
    }
    @keyframes shimmer {
      100% {
        transform: translateX(150%);
      }
    }
    .shimmer img {
      opacity: 0;
      transition: opacity 0.3s ease-in;
    }
    .shimmer.loaded img {
      opacity: 1;
    }
    .shimmer.loaded::after {
      display: none;
    }
  </style>
</head>
<body class="bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-700 min-h-screen flex flex-col items-center py-10 font-sans">

  <!-- Judul -->
  <h1 class="text-white text-2xl sm:text-3xl md:text-4xl font-bold mb-10 text-center animate__animated animate__fadeInDown px-3">
    Database Sub.Bagian Program – DPUTR Kabupaten Bandung
  </h1>

  <!-- Container Card -->
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 sm:gap-6 px-3 sm:px-6 w-full max-w-7xl">

    <!-- Card contoh -->
    <a href="URL_SPREADSHEET_LAKIP" target="_blank" class="no-underline card-link">
      <div class="bg-white p-6 rounded-2xl shadow-md h-48 flex flex-col items-center justify-center hover:shadow-xl hover:-translate-y-1 transition">
        <div class="shimmer w-20 h-20 flex items-center justify-center">
          <img src="https://img.icons8.com/color/64/report-card.png" alt="Lakip-Laptap" loading="lazy"/>
        </div>
        <h2 class="font-bold text-gray-700 mt-3 text-sm sm:text-base text-center">Lakip-Laptap</h2>
      </div>
    </a>

    <a href="URL_SPREADSHEET_RENSTRA" target="_blank" class="no-underline card-link">
      <div class="bg-white p-6 rounded-2xl shadow-md h-48 flex flex-col items-center justify-center hover:shadow-xl hover:-translate-y-1 transition">
        <div class="shimmer w-20 h-20 flex items-center justify-center">
          <img src="https://img.icons8.com/color/64/goal.png" alt="Renstra" loading="lazy"/>
        </div>
        <h2 class="font-bold text-gray-700 mt-3 text-sm sm:text-base text-center">Renstra</h2>
      </div>
    </a>

    <!-- Tambahkan card lain dengan format yang sama -->

  </div>

  <!-- Footer -->
  <footer class="mt-12 w-full bg-black/40 backdrop-blur-sm py-4 shadow-inner animate__animated animate__fadeInUp">
    <div class="flex flex-col sm:flex-row items-center justify-center gap-3 text-white px-3">
      <div class="shimmer h-10 w-10 flex items-center justify-center rounded-full">
        <img src="assets/DPUTR HIJAU.png" alt="Logo DPUTR" class="h-10 w-10 object-contain" loading="lazy"/>
      </div>
      <p class="text-xs sm:text-sm font-medium text-center">
        © <span id="year"></span> Dinas Pekerjaan Umum dan Tata Ruang – Kabupaten Bandung
      </p>
    </div>
  </footer>

  <script>
    // Update tahun otomatis
    document.getElementById("year").textContent = new Date().getFullYear();

    // Fungsi sanitasi sederhana
    function sanitizeURL(url) {
      try {
        const parsed = new URL(url, window.location.origin);
        if (parsed.protocol === "http:" || parsed.protocol === "https:") {
          return parsed.href;
        }
      } catch (e) {
        return "#";
      }
      return "#";
    }

    // Terapkan sanitasi ke semua link
    document.querySelectorAll("a.safe-link, a.card-link").forEach(a => {
      a.setAttribute("href", sanitizeURL(a.getAttribute("href")));
    });

    // Hapus shimmer ketika gambar selesai load
    document.querySelectorAll(".shimmer img").forEach(img => {
      img.addEventListener("load", () => {
        img.parentElement.classList.add("loaded");
      });
    });
  </script>

</body>
</html>
